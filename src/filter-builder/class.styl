.filter-builder-container
    display flex
    flex 1
    
    .filter-builder
        display flex
        flex 1

.filter-builder .builder-form
    display flex
    flex-flow column nowrap
    justify-content flex-start
    align-content stretch
    align-items stretch
    flex 1

    unselected-category-item-padding = 27px

    .invalid
        color font-color-green
        font-size font-size-l
        font-weight font-weight-normal
        margin 5px 0px -20px

        li
            margin 5px 0px


    header.builder-header
        flex none
        display flex
        flex-flow row nowrap
        justify-content space-between
        align-items center
        align-content center

    .filter-name
        margin 0
        border 0
        padding 8px 8px 5px
        width 100%
        flex 2
        color font-color-dark-grey
        font-size font-size-xl2
        font-weight font-weight-heavy

        &:hover,
        &:focus
            border-radius 2px
            background-color color-grey1

    .total-cases
        flex none
        color font-color-dark-grey
        font-size font-size-l
        font-weight font-weight-normal
        margin 9px 0px

        h3, span
            display inline-block

        h3
            font-weight font-weight-heavy
            margin-right 5px

    .share-filter-container
        flex none

        .share-filter
            color rgba(0, 0, 0, 0.62)

    .expression-list-wrapper
        display flex
        flex 1
        margin filter-builder-h-space-s 0px 0px
        overflow auto

    .expression-list
        list-style none
        display flex
        flex-flow row nowrap
        justify-content flex-start
        align-items stretch
        align-content stretch

    .expression-card
        flex none
        display flex
        flex-flow row nowrap

        .card-wrapper
            display flex
            flex-direction column
            
            div
                display flex
                flex-direction column
                
        .card
            display flex
            flex-direction column
            width width-filter-card
            color font-color-dark-grey
            background-color color-grey1

            &.empty
                height height-filter-card
                flex none

            &.active
                min-height 30px

                .inactive-arrow
                    display: none

            &:hover h1:after
                visibility visible

            .drag-hint
                width 100%
                height 100%

                &.drag-over
                    border 1px solid color-green

                    .drag-help
                        color font-color-green

            .drag-help
                display block
                border 0
                margin 0
                padding 0
                outline 0
                width 100%
                height 100%
                text-align center
                border-radius 0px
                line-height 1.7em
                color font-color-dark-grey
                font-size font-size-l
                font-weight font-weight-light
                background-color transparent

            header.card-header
                flex none

                h1
                    cursor pointer

            h1
                position relative
                width 100%
                font-weight font-weight-heavy
                font-size font-size-xl
                padding filter-builder-v-space-s2 30px filter-builder-v-space-s2 filter-builder-h-space-xs
                color font-color-dark-grey
                margin 0

                &:after
                    position absolute
                    top 50%
                    right filter-builder-h-space-xs
                    margin-top -9px
                    font-size font-size-xl
                    visibility hidden
                    font-family "EntypoRegular"
                    content '\25be'
                    color font-color-dark-grey

                    .read-only&
                        display none

            .picker
                position relative
                width 100%
                border none
                font-size font-size-l
                padding filter-builder-v-space-xs filter-builder-h-space-xs
                display block
                border-bottom 1px solid white
                border-top 1px solid white

                &:hover
                    background color-grey2
                    cursor pointer
                    color font-color-green

                    .read-only&
                        cursor default

            ol.categories-list
                list-style none
                margin 0
                padding 0
                overflow auto
                display flex
                flex-direction column
                flex 1

                li
                    flex none
                    
                .missing-category
                  color: #777777

            .category-button
                width 100%
                text-align left
                border none
                padding elements-space-s
                position relative
                margin 0
                font-size font-size-l
                cursor pointer
                color font-color-dark-grey
                padding-left unselected-category-item-padding

                span.icon-done
                    position relative
                    top 1px
                    font-size font-size-l

                &:hover
                    color font-color-green
                    background color-grey2

                &.read-only,
                &.read-only:hover
                    cursor default

                &.selected
                    color font-color-dark-grey
                    background-color color-grey2
                    font-weight font-weight-heavy
                    padding-left elements-space-s

                    &:hover
                        color font-color-green
                        background color-grey2

            .card-count
                font-size font-size-l
                padding filter-builder-v-space-s2 filter-builder-h-space-xs
                color font-color-dark-grey
                border-top 1px solid white
                flex none
                display flex
                flex-direction row
                justify-content space-between

                h3
                    display inline-block
                    font-weight font-weight-heavy

            .inactive-arrow
                display block
                font-size font-size-l
                padding filter-builder-v-space-s2 filter-builder-h-space-xs
                color font-color-dark-grey
                text-align center
                cursor pointer

                &:hover
                    color font-color-green
                    background-color color-grey2

                .read-only&
                    display none

            &:hover .dropdown-toggle
                visibility: visible

            .dropdown-toggle
                visibility: hidden
                position: absolute
                width: 20px
                top: 6px
                right: 10px
                font-family: 'EntypoRegular'
                font-size: 35px
                background: transparent
                border: none
                color: rgba(255, 255, 255, 0.3)

            .dropdown-menu
                button
                    background: transparent
                    border: none
                    width: 100%
                    text-align: left

                button:hover
                    background: primary-color
                    color: white

        .filterConditional
            flex none
            position relative
            color font-color-dark-grey
            text-align center
            width 67px
            height 30px
            margin 0 elements-space-m

            &:hover
                cursor pointer
                color font-color-green
                background-color color-grey2

            div
                line-height 1.7
                padding 5px 6px 2px
                font-size 13px

            div:empty
                padding 0

        .cardhidden
            background: white
            width: 74%
            float: left
            border-radius: 2px
            border: 1px solid rgba(0, 0, 0, 0.11)
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.13)
            position: relative

            &:hover
                box-shadow: 0 3px 5px rgba(0, 0, 0, 0.44)

            header
                background: #252d2f
                color: white
                border-top-right-radius: 2px
                border-top-left-radius: 2px
                position: relative

            h1
                font-size: .9em
                padding: .5em 10px
                margin: 0
                position: relative
                width: 100%
                &:after
                    content: '\25be'
                    font-family: "EntypoRegular"
                    position: absolute
                    visibility:hidden
                    right: .25em
                    top: 2px
                    font-size: 2em

    .fieldset
        display flex
        flex-direction column
        padding 0 0 20px 20px
        z-index 1000

        .controls
            display flex
            flex-direction row
            .btn
                &:disabled
                    box-shadow inherit
                    color white
                    cursor default

.filter-builder .read-only
    .drop
        cursor default
    .filter-joiner
        text-align center

li.tip-message
    line-height 1.5em
